<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>I Know Where</title>
    <meta name="viewport" content="width=device-width, height=device-height, target-densitydpi=device-dpi, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/lib/boilerplate.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

    <div id="ph-views">

        <div id="ph-view-welcome" class="ph-view">
        	<div class="ph-app-title">
        	    <div class="ph-title ph-title-huge">I</div>
        	    <div class="ph-title ph-title-huge">Know</div>
        	    <div class="ph-title ph-title-huge">Where</div>
        	</div>
     
            <div class="ph-title">Getting your location...</div>
        </div>
        
        <div id="ph-nav">
        	<div id="button-create" class="ph-nav-button ph-button"><div class="ph-icon ph-icon-create"></div></div>
        	<div id="button-refresh" class="ph-nav-button ph-button"><div class="ph-icon ph-icon-refresh"></div></div>
        	<div id="button-settings" class="ph-nav-button ph-button"><div class="ph-icon ph-icon-settings"></div></div>
        	<div id="button-nav" class="ph-button"><div class="ph-icon ph-icon-right"></div></div>
        </div>
        
        <div id="ph-view-chains" class="ph-view">
            <!-- This is dynamically generated -->
        </div>

        <div id="ph-view-location" class="ph-view">
            <div class="ph-image"></div>
            <div class="ph-foundItButton ph-button"></div>
            <div class="ph-comments">
                <ul>
                    <!-- This is dynamically generated -->
                </ul>
            </div>
            <div class="ph-postNewComment">
                <textarea class="ph-input" placeholder="Tap here to type a comment..."></textarea>
            </div>
            <div class="ph-postCommentButton ph-button">
                Post comment
            </div>
        </div>

        <div id="ph-view-countdown" class="ph-view">
            <div class="ph-remaining ph-title-gigant"></div>
            <div class="ph-button"></div>
        </div>

        <div id="ph-view-create" class="ph-view">
            <div class="ph-title ph-topic">New Picture Chain</div>
            <div class="ph-select-timelimit">
            <div class="ph-title">Time limit is</div>
            <div class="ph-button">
                Fast
            </div>
            <div class="ph-button">
                Medium
            </div>
            <div class="ph-button">
                Slow
            </div>
            </div>
        </div>

        <div id="ph-view-settings" class="ph-view">
        	<div class="ph-title">Settings</div>
        	<div class="ph-sub-title">Name</div>
        	<input id="ph-name-input" class="ph-input" name="name" />
        	<div id="ph-save-settings" class="ph-button">Save</div>
		</div>
        
    </div>


    <script src="js/lib/jquery-1.7.1.js"></script>
    <script src="js/lib/underscore-1.3.1.js"></script>
    <script src="js/lib/backbone-0.9.1.js"></script>
    <script src="js/lib/mbp-3.0.0.js"></script>
    <script src="js/lib/cordova-1.5.0.js"></script>
    <script src="js/plugins/fileuploader.js"></script>

    <script>
        var cordovaRequire = require;
        var cordovaDefine = define;

        // This will be called once from cordova's native side.
        // After that one call we'll undefine it and load up requireJs
        require = function() {
            console.log("require called with "+arguments[0]);
            require = undefined;
            loadRequireJs();
            return cordovaRequire(arguments[0]);
        };

        define = undefined;

        setTimeout(function() {
            if (typeof require !== 'undefined') {
                require('cordova');
            }
        }, 500);

        function loadRequireJs() {
            var head = document.getElementsByTagName('head').item(0);
            var script = document.createElement('script');
            script.setAttribute('data-main', 'js/main');
            script.setAttribute('src', 'js/lib/require-1.0.7.js');
            script.onload = function() {
                console.log('requirejs loaded');
            }

            _.defer(function() {
               head.appendChild(script);
            });
        }


    </script>
    <!--
    <script data-main="js/main" src="js/lib/require-1.0.7.js"></script>
    -->
</body>
</html>